{\bfseries{Notice\+:}} Running the A\+WS IoT Device Client will incur usage of A\+WS IoT services, and is likely to incur charges on your A\+WS account. Please refer the pricing pages for \href{https://aws.amazon.com/iot-core/pricing/}{\texttt{ A\+WS IoT Core}}, \href{https://aws.amazon.com/iot-device-management/pricing/}{\texttt{ A\+WS IoT Device Management}}, and \href{https://aws.amazon.com/iot-device-defender/pricing/}{\texttt{ A\+WS IoT Device Defender}} for more details.


\begin{DoxyItemize}
\item \href{\#secure-tunneling-feature}{\texttt{ Secure Tunneling Feature}}
\begin{DoxyItemize}
\item \href{\#secure-tunneling-feature-configuration-options}{\texttt{ Secure Tunneling Feature Configuration Options}}
\begin{DoxyItemize}
\item \href{\#configuring-the-secure-tunneling-feature-via-the-command-line}{\texttt{ Configuring the Secure Tunneling feature via the command line}}
\item \href{\#configuring-the-secure-tunneling-feature-via-the-json-configuration-file}{\texttt{ Configuring the Secure Tunneling feature via the J\+S\+ON configuration file}}
\end{DoxyItemize}
\item \href{\#example-steps-to-use-the-secure-tunneling-feature}{\texttt{ Example steps to use the Secure Tunneling feature}}
\item \href{\#limitation}{\texttt{ Limitation}}
\end{DoxyItemize}
\end{DoxyItemize}

../../\+R\+E\+A\+D\+ME.md \char`\"{}$\ast$\+Back To The Main Readme$\ast$\char`\"{}\hypertarget{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md45}{}\doxysection{Secure Tunneling Feature}\label{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md45}
The Secure Tunneling feature allows you to gain access to a remote device even if the device is behind a firewall. You may want to remote access to a device to troubleshoot, or update its configuration. For complete reference of Secure Tunneling, please see \href{https://docs.aws.amazon.com/iot/latest/developerguide/secure-tunneling.html}{\texttt{ here}}.

Without the Device Client, if you wanted secure privileged access to a device by secure tunneling, you would need to build and deploy a compatible binary of \href{https://docs.aws.amazon.com/iot/latest/developerguide/local-proxy.html}{\texttt{ local proxy}} onto the device. You\textquotesingle{}d also need to write, build and deploy \href{https://docs.aws.amazon.com/iot/latest/developerguide/agent-snippet.html}{\texttt{ code}} that subscribes to the M\+Q\+TT new tunnel topic and launches the local proxy. When you use the Device Client, you can skip building the local proxy for your IoT device and writing code to subscribe to the relevant M\+Q\+TT topics. You can simply build and deploy the Device Client to your IoT devices and enable the Secure Tunneling feature.\hypertarget{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md46}{}\doxysubsection{Secure Tunneling Feature Configuration Options}\label{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md46}
You can enable or disable the Secure Tunneling feature by a C\+LI argument or in the configuration file.

{\ttfamily enabled}\+: Whether or not the Secure Tunneling feature is enabled (True/\+False).\hypertarget{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md47}{}\doxysubsubsection{Configuring the Secure Tunneling feature via the command line}\label{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md47}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./aws-\/iot-\/device-\/client -\/-\/enable-\/tunneling [true|false]}
\end{DoxyCode}
\hypertarget{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md48}{}\doxysubsubsection{Configuring the Secure Tunneling feature via the J\+S\+O\+N configuration file}\label{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md48}

\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  "tunneling": \{}
\DoxyCodeLine{    "enabled": [true|false]}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  ...}
\DoxyCodeLine{\}}
\end{DoxyCode}
\hypertarget{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md49}{}\doxysubsection{Example steps to use the Secure Tunneling feature}\label{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md49}
Here is a sample workflow to access a remote device using the Secure Tunneling feature.

On the remote device\+:
\begin{DoxyEnumerate}
\item Deploy and run the Device Client with Secure Tunneling feature enabled
\end{DoxyEnumerate}

On your laptop\+:
\begin{DoxyEnumerate}
\item Create a new secure tunnel on the A\+WS Console
\item Copy the source access token
\item Start the \href{https://github.com/aws-samples/aws-iot-securetunneling-localproxy/blob/master/README.md\#options-set-via-command-line-arguments}{\texttt{ local proxy}} with the source access token. For example\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./localproxy -\/r us-\/east-\/1 -\/s 8080 -\/t <source token>}
\end{DoxyCode}

\item Start the S\+SH client but connect to the local proxy listening port. For example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ssh -\/p 8080 <remote\_user\_name>@localhost}
\end{DoxyCode}

\end{DoxyEnumerate}\hypertarget{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md50}{}\doxysubsection{Limitation}\label{md__home_runner_work_aws-iot-device-client_aws-iot-device-client_source_tunneling__r_e_a_d_m_e_autotoc_md50}
The Secure Tunneling feature within the A\+WS IoT Device Client currently does not support \href{https://docs.aws.amazon.com/iot/latest/developerguide/multiplexing.html}{\texttt{ multiplex data streams}}. However the feature supports multiple tunnels each with a single data streams.

\href{\#}{\texttt{ {\itshape Back To The Top}}} 